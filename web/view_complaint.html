<!DOCTYPE html>
<html ng-app="myapp">
	<head>

		<!-- Basic -->
		<meta charset="utf-8">
		<meta name="keywords" content="HTML5 Template" />
		<meta name="description" >
		<meta name="author" content="pixelgeeklab.com">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Web Fonts  -->
		<link href='css/css.css' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="fonts/font.css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="vendor/fontawesome/css/font-awesome.css">
		<link rel="stylesheet" href="vendor/owlcarousel/owl.carousel.css" media="screen">
		<link rel="stylesheet" href="vendor/owlcarousel/owl.theme.css" media="screen">
		<link href="vendor/owl-carousel/owl.transitions.html" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="vendor/flexslider/flexslider.css" media="screen">
		<link rel="stylesheet" href="vendor/chosen/chosen.css" media="screen">
		<link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.css" media="screen">

		<!-- Theme CSS -->
		<link rel="stylesheet" href="css/theme.css">
		<link rel="stylesheet" href="css/theme-animate.css">
		
		<!-- Style Switcher-->

		<!-- Head libs -->
		<script src="vendor/modernizr/modernizr.js"></script>

		<!--[if IE]>
			<link rel="stylesheet" href="css/ie.css">
		<![endif]-->

		<!--[if lte IE 8]>
			<script src="vendor/respond/respond.js"></script>
			<script src="vendor/excanvas/excanvas.js"></script>
		<![endif]-->

        <style>
      /* Grid Layout for Cards */
.complaint-grid {

  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 20px;
  margin: 20px;
  margin-top:40px;
}

/* Complaint Card */
.complaint-card {
  background: #fff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.complaint-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.15);
}

/* Bigger, modern title */
.complaint-card h3 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 15px;
  color: #111;
  display: flex;
  align-items: center;
}

.complaint-card p {
  font-size: 1.8rem;
  line-height: 1.6;
  margin: 6px 0;
  color: #333;
}

/* Status Badges */
p.status {
  font-size: 2rem;
  font-weight: bold;
  padding: 4px 12px;
  border-radius: 20px;
  display: inline-block;
}

p.status.completed { background: #e8f5e9; color: #2e7d32; }
p.status.pending { background: #fff8e1; color: #ef6c00; }
p.status.rejected { background: #ffebee; color: #c62828; }

/* Buttons modern */
.btn-group {
  margin-top: 15px;
}

.btn-modern {
  display: inline-flex;
  align-items: center;
  background: #1976d2;
  color: #fff;
  font-size: 1.2rem;
  font-weight: 500;
  padding: 8px 14px;
  margin: 5px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.2s ease;
}

.btn-modern i {
  margin-right: 6px;
  font-size: 1rem;
  line-height: 1;   /* normalize icon height */
  vertical-align: middle;  /* align with text */
}

.btn-modern {
  display: inline-flex;
  align-items: center;  /* vertically centers icon + text */
  justify-content: center;
}

.btn-modern:hover {
  background: #125ca1;
  transform: translateY(-2px);
}

/* Proof box */
.proof-title {
  font-weight: bold;
  color: #1565c0;
  margin-top: 15px;
  display: flex;
  align-items: center;
  font-size: 1.1rem;
}

.proof-box {
  border: 1px dashed #ccc;
  border-radius: 8px;
  padding: 12px;
  margin: 12px 0;
  text-align: center;
  background: #fafafa;
}

.proof-box img {
  max-width: 100%;
  max-height: 200px;
  border-radius: 6px;
}

/* Search Box Container */
.search-box {
  display: flex;
  justify-content: center;
  margin: 20px 0;
}

/* Wrapper */
.search-input-wrapper {
  position: relative;
  width: 100%;
  max-width: 400px;
}

/* Input */
.search-input-wrapper input {
  width: 150%;
  padding: 12px 40px 12px 40px;
  border: 2px solid #ddd;
  border-radius: 20px;
  font-size: 2rem;
  outline: none;
  background: #fff;
  transition: all 0.3s ease;
}

.search-input-wrapper input:focus {
  border-color: #1976d2;
  box-shadow: 0 0 8px rgba(25, 118, 210, 0.3);
}

/* Search Icon */
.search-input-wrapper i {
  position: absolute;
  top: 50%;
  left: 15px;
  transform: translateY(-50%);
  color: #888;
  font-size: 2rem;
}

/* Floating Label */
.search-input-wrapper label {
  position: absolute;
  top: 50%;
  left: 45px;
  transform: translateY(-50%);
  color: #757575ff;
  font-size: 1.4rem;
  pointer-events: none;
  transition: all 0.2s ease;
}

.search-input-wrapper input:focus ~ label,
.search-input-wrapper input:valid ~ label {
  top: -8px;
  left: 40px;
  font-size: 0.8rem;
  color: #1976d2;
  background: #fff;
  padding: 0 5px;
}

		/* Decorative underline */
		.search-input-wrapper span {
		position: absolute;
		left: 40px;
		bottom: 8px;
		height: 2px;
		width: 0;
		background: #1976d2;
		transition: width 0.3s ease;
		}

		.search-input-wrapper input:focus ~ span {
		width: calc(140% - 50px);
		}


        </style>

<!-- script back button -->
		<script src="cordova.js"></script>
		<script>
		function onLoad() 
		{
			document.addEventListener("deviceready", deviceReady, false);
		}
		function deviceReady() 
		{
			document.addEventListener("backbutton", backButtonCallback, false);
		}
		function backButtonCallback() 
		{
			navigator.app.backHistory();
		}
		</script>


	<!-- angular js -->
	<script src="js/angular-1.3.js"></script>
	<script src="js/angular_cookies.js"></script>

	</head>
	<body ng-controller="myappCtrl" class="front bg-pattern-dark">
		<div class="body">
			<header id="header">
				<div class="header-top" style="height:8em;">
					<div class="container">
						<a href="#offcanvas" class="uk-navbar-toggle" style="float:left; margin:50px 5px 10px 5px;" data-uk-offcanvas>
							<span class="sr-only">Toggle navigation</span>
							<i class="fa fa-bars"></i>
						</a>
                        <nav>
							<ul class="nav nav-pills nav-top nav-top-left">
								<div class="head">Online Complaint App </div>
							</ul>
							<ul class="nav nav-pills nav-top nav-top-right">
								<li class="login">
									
								</li>
							</ul>
                        </nav>
					</div>	
				</div>
			</header>
		</div>
	</div>
	
        <div class="modal fade form-wrapper" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
            </div>
        </div>

	<div id="offcanvas" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
				<ul id="main-menu-offcanvas" class="uk-nav-offcanvas" data-uk-nav>
					<h2 style="color:#000;padding:1.5em;font-weight:bold;font-family:Quicksand;"></h2>
					<span class="uk-parent">
						<a href="home.html"><img src="images/icons/house.png" class="fa icon"> &nbsp;&nbsp;&nbsp;Home</a>
					</span>
					
                    <span class="uk-parent">
						<a style="cursor:pointer" ng-click="user_logout()" ><img src="images/icons/smartphone-2.png" class="fa icon"> &nbsp;&nbsp;&nbsp;Logout</a>
					</span>
				</ul>
			</div>
		</div>
		
		<div class="content" style="margin-top:3em">
		<div class="container" ng-repeat="x in details | filter : search_field |orderBy:'cus_id':true">
			<section class="content-inner">
				<div class="row">
					<!--<div class="col-md-12" >
							<img style="width:80px; height:80px;"  src="images/male-reporter.png"/>
						<a href="create_sales.html" style="font-family:Quicksand;border-radius:2px;box-shadow:1px 1px 1px 1.5px #B6B6B4; margin:1em 0 3em 1em; font-weight:bold;color:rgb(55,71,79);font-size:1.11em;padding:0.3em">
						New Enquiry</a>
					</div>-->
				
				
					
				</div>
								</section>
			</div>

				<!-- Search Results --> 
				<h2 class="content-sub-heading" style="text-align:center;font-size:40px;color:rgb(69,90,100);font-weight:200">
				View Complaint Status</h2>
				<div class="search-box">
					<form class="form">
						<div class="search-input-wrapper">
						<i class="fa fa-search"></i>
						<input ng-model="search_field" type="text" required />
						<label>Search complaints . . .</label>
						<span></span>
						</div>
					</form>
					</div> 

				
			<div class="complaint-grid">
			<div class="complaint-card" ng-repeat="x in details | filter : search_field |orderBy:'cus_id':true">
				<h3><i class="fa fa-file-text-o"></i> &nbsp; Complaint ID: {{x.cus_id}}</h3>
				<p class="status"><i class="fa fa-info-circle"></i> Status: {{x.field_9}}</p>
				<p><i class="fa fa-user"></i> Name: {{x.field_1}}</p>
				<p><i class="fa fa-exclamation-triangle"></i> Complaint: {{x.field_7}}</p>
				<p><i class="fa fa-home"></i> Address: {{x.field_3}}, {{x.field_4}}</p>
				<p><i class="fa fa-map-marker"></i> Landmark: {{x.field_2}}</p>
				<p><i class="fa fa-location-arrow"></i> Location: {{x.field_5}}</p>
				<p><i class="fa fa-tag"></i> Type: {{x.field_6}}</p>
				<p><i class="fa fa-sticky-note"></i> Complaint Notes: {{x.field_12}}</p>
				<p class="priority"><i class="fa fa-flag"></i> Priority: {{x.field_8}}</p>
				<p><i class="fa fa-globe"></i> Lat: {{x.field_15}} | Long: {{x.field_16}}</p>
				<p style="color:green;"><i class="fa fa-question-circle"></i> Reason: {{x.field_10}}</p>
				<p style="color:green;"><i class="fa fa-check-circle"></i> Solution: {{x.field_11}}</p>

				<!-- Buttons -->
				<div class="btn-group">
					<button ng-click="update_id(x.cus_id)" class="btn-modern btn-warning">
						<i class="fa fa-map-marker"></i> Update Map
					</button>
					<button ng-click="upload_photo(x.cus_id)" class="btn-modern btn-success">
						<i class="fa fa-upload"></i> Upload Photo
					</button>
					<button ng-click="post_feedback(x.field_5,x.field_6)" class="btn-modern btn-danger">
						<i class="fa fa-comment"></i> Feedback
					</button>
				</div>


				<!-- User Proof -->
				<p class="proof-title"><i class="fa fa-user"></i> User Proof</p>
				<div class="proof-box" ng-if="x.field_13 && x.field_13 !== ''">
				<img ng-src="{{x.field_13}}" />
				</div>
				<div class="proof-box" ng-if="!x.field_13 || x.field_13 === ''">
				<p>❌ You haven’t uploaded a proof photo.</p>
				</div>

				<!-- Completed Proof -->
				<p class="proof-title"><i class="fa fa-check"></i> Completed Proof</p>
				<div class="proof-box" ng-if="x.field_14 && x.field_14 !== ''">
				<img ng-src="{{x.field_14}}" />
				</div>
				<div class="proof-box" ng-if="!x.field_14 || x.field_14 === ''">
				<p>⚠️ Authority hasn’t uploaded completed proof till now.</p>
				</div>
			</div>
			</div>


			<div class="table-responsive card">
				<table class="table table-hover table-stripe" title="Default Tabl">
				
					<!-- Get Results Reverse
					<tbody ng-repeat="x in details | filter : search_field |orderBy:'cus_id':true  ">
					<p> Name</p>
						<tr>
							<td ng-bind="x.field_2"></td>	
							<td ng-bind="x.field_3"></td>
						</tr>
					<p> Name</p>
						<tr>
							<td ng-bind="x.field_4"></td>
							<td ng-bind="x.field_5"></td>
						</tr>
							<td ng-bind="x.field_6"></td>
							<td ng-bind="x.field_7"></td>
							
							<td>
								<a class="btn" style="border-radius:4px; color:#fff; text-transform:none; background-color:#F14742; width:2.5em; height:2em; padding:2px 0 2px 0;" ng-click="sales_delete(x.customer_id)">
									<img style="width:25px; height:25px;" class="icon icon-10x" src="images/icons/delete2.png"/>
								</a>
							</td>
					</tbody>
				</table>
				-->
			</div>
	
		<script src="vendor/jquery/jquery.js"></script>
		<script src="vendor/bootstrap/bootstrap.js"></script>
		<script src="vendor/jquery.validation/jquery.validation.js"></script>
		<script src="vendor/owlcarousel/owl.carousel.js"></script>
		<script src="vendor/flexslider/jquery.flexslider-min.js"></script>
		<script src="vendor/countdown/countdown.min.js"></script>
		<script src="vendor/chosen/chosen.jquery.min.js"></script>
		<script src="vendor/pricefilter/jquery.pricefilter.js"></script>
		<script src="vendor/masonry/imagesloaded.pkgd.min.js"></script>
		<script src="vendor/masonry/masonry.pkgd.min.js"></script>
		<script src="vendor/uikit/uikit.js"></script>
		<script src="vendor/magnific-popup/jquery.magnific-popup.js"></script>
		
		<!--
		 Theme Base, Components and Settings -->
		<script src="js/theme.js"></script>
		
		<!-- Style Switcher -->
		<script type="text/javascript" src="style-switcher/js/switcher.js"></script>
		
	<!-- angular js -->
	<script src="js/angular_data.js"></script>
<body onload="onLoad()">		
</body>
</html>		